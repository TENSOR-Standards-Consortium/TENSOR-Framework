name: Validate Schemas

on: [pull_request, push]

jobs:
  lint:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: npm install -g ajv-cli
      - run: |
          for f in schemas/**/*.schema.*.json; do
            ajv validate -s schemas/core/core.schema.json -d "$f" --strict=false || exit 1
          done
